@import 'govuk-frontend/dist/govuk/settings/all';
@import 'govuk-frontend/dist/govuk/tools/all';
@import 'govuk-frontend/dist/govuk/helpers/all';

:host {
  --moj-scale-bar-bottom: #{govuk-spacing(4)};
}

:host[type='button']:not(:disabled),
:host[type='reset']:not(:disabled),
:host[type='submit']:not(:disabled),
:host button:not(:disabled) {
  cursor: pointer;
}

:host .ol-control {
  background-color: none;
  box-shadow: none;
  padding: 0;
}

:host .ol-control button {
  @include govuk-font(19, $weight: bold);
  font-family: $govuk-font-family;
  line-height: 1;
  background-color: govuk-colour('black');
  color: govuk-colour('white');
  border: 1px solid govuk-colour('white');
  border-radius: 0;
  width: 2em;
  height: 2em;
  text-align: center;
  padding: 0;
  margin: 0;
  box-shadow: none;
  transition:
    background-color 0.1s ease-in-out,
    color 0.1s ease-in-out,
    border-color 0.1s ease-in-out;
}

:host .ol-control button:hover,
:host .ol-control button:focus {
  text-decoration: none;
  outline: 1px solid govuk-colour('white');
}

:host(.has-zoom-slider) .ol-zoom .ol-zoom-out {
  margin-top: 200px;
}

:host(.has-zoom-slider) .ol-zoomslider {
  background-color: transparent;
  top: 46px;
  left: 0.5em;
  width: 38px;
  height: 200px;
  position: absolute;
}

:host(.has-zoom-slider) .ol-touch .ol-zoom .ol-zoom-out {
  margin-top: 212px;
}

:host(.has-zoom-slider) .ol-touch .ol-zoomslider {
  top: 2.75em;
}

:host(.has-zoom-slider) .ol-zoom-in.ol-has-tooltip:hover [role='tooltip'],
:host(.has-zoom-slider) .ol-zoom-in.ol-has-tooltip:focus [role='tooltip'] {
  top: 3px;
}

:host(.has-zoom-slider) .ol-zoom-out.ol-has-tooltip:hover [role='tooltip'],
:host(.has-zoom-slider) .ol-zoom-out.ol-has-tooltip:focus [role='tooltip'] {
  top: 232px;
}

:host .ol-zoomslider button {
  position: relative;
  height: 10px;
}

// Scale bar positioned centrally at the bottom
:host .ol-scale-bar {
  bottom: var(--moj-scale-bar-bottom);
  left: 50%;
  transform: translateX(-50%);
}

:host .ol-scale-text {
  @include govuk-font(16);
  color: govuk-colour('black');
}

:host .ol-scale-step-text {
  @include govuk-font(14);
  color: govuk-colour('black');
}

:host .ol-scale-singlebar-even {
  background-color: govuk-colour('black');
}

/* coordinates */
:host .moj-map__location-dms {
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  bottom: calc(var(--moj-scale-bar-bottom) + govuk-spacing(5));
  @include govuk-font(16);
  background: transparent;
  padding: 2px 6px;
  border-radius: 4px;
  white-space: nowrap;
}

/* MapLibre controls */

// Active state (extrusion toggled on)
:host .maplibregl-ctrl button.active {
  background-color: govuk-colour('mid-grey');
  color: govuk-colour('white');
}

:host .maplibregl-ctrl button.active:hover,
:host .maplibregl-ctrl button.active:focus {
  background-color: govuk-colour('dark-grey');
  color: govuk-colour('white');
  outline: 1px solid govuk-colour('white');
}

// Disabled state
:host .maplibregl-ctrl button:disabled {
  background-color: govuk-colour('light-grey');
  color: govuk-colour('mid-grey');
  border-color: govuk-colour('mid-grey');
  cursor: not-allowed;
}

:host .maplibregl-ctrl button:disabled:hover,
:host .maplibregl-ctrl button:disabled:focus {
  background-color: govuk-colour('light-grey');
  color: govuk-colour('mid-grey');
  outline: none;
}
